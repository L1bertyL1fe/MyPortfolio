<template>
  <div class="goals__container">
    <h2 class="goals__title"> –ú–æ–∏ —Ü–µ–ª–∏üöÄ</h2>

    <div class = 'goals__track'>
      <div v-for = "(goal, index) in goals"
           :key = index
           class="goal__card">
        <img src = './icons/delete.png' @click="deleteGoal(index)" class = 'goal__delete' alt="delete">
        <div class = 'goal__title'>{{goal.title}}</div>
        <div class = 'goal__description'>{{goal.description}}</div>
      </div>
    </div>
    <button @click = 'showWindow = true' class = 'goals__addCard'>+</button>
  </div>

  <div v-if = 'showWindow' class = 'addWindow'>
      <div class = 'addWindow__content'>
          <h3>–î–æ–±–∞–≤—å –Ω–æ–≤—É—é —Ü–µ–ª—å –∏ —è –µ—ë –¥–æ—Å—Ç–∏–≥–Ω—É</h3>
          <input v-model="newTitle" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ü–µ–ª–∏" class = 'addWindow__content-input'>
          <textarea v-model="newDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ —Ü–µ–ª–∏" class = 'addWindow__content-textarea'></textarea>
        <div class="addWindow-buttons">
          <button @click = 'addNewGoal' class = 'addWindow__content-addButton'>–î–æ–±–∞–≤–∏—Ç—å</button>
          <button @click = 'showWindow = false' class = "addWindow__content-cancelButton">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </div>
  </div>

</template>

<script setup>
import {ref} from "vue";


const goals = ref([
  {
    title: "VUE üìö",
    description: '–ò–∑—É—á–∏—Ç—å –∏ –æ—Å–≤–æ–∏—Ç—å VUE',
  },
  {
    title: "–ü—Ä–æ–π—Ç–∏ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫—É –≤ –°–î üéì",
    description: '–£ –º–µ–Ω—è –æ–≥—Ä–æ–º–Ω–æ–µ –∂–µ–ª–∞–Ω–∏–µ –ø—Ä–æ–π—Ç–∏ —Å—Ç–∞–∂–∏—Ä–æ–≤–∫—É –≤ –°–î –∏ –¥–ª—è —ç—Ç–æ–≥–æ —è –±—É–¥—É —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –∏–∑—É—á–∞—Ç—å —á—Ç–æ-—Ç–æ –Ω–æ–≤–æ–µ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å',
  },
  {
    title: "–°—Ç–∞—Ç—å Fullstack üë®‚Äçüíª",
    description: '–í –±—É–¥—É—â–µ–º —è —Ö–æ—á—É –±—ã—Ç—å Fullstack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–º –∏ –±–ª–∞–≥–æ–¥–∞—Ä—è –°–î —è –∏–∑—É—á–∞—é —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã front',
  },
  {
    title: "–ë—ã—Ç—å —Å—á–∞—Å—Ç–ª–∏–≤—ã–º ‚ù§Ô∏è‚Äçüî•",
    description: '–ö–∞–π—Ñ–æ–≤–∞—Ç—å –æ—Ç —Ç–æ–≥–æ —á—Ç–æ —Ç—ã –¥–µ–ª–∞–µ—à—å, –∏–º–µ–Ω–Ω–æ —ç—Ç–∏–º —è –∏ –∑–∞–Ω–∏–º–∞—é—Å—å',
  }
]);
const newTitle = ref('');
const newDescription = ref('');
const showWindow = ref(false)
const addNewGoal = () => {
  if((newTitle.value.trim() && newDescription.value.trim())){
    goals.value.push({
      title: newTitle.value,
      description: newDescription.value
    })
  }
  newTitle.value = '';
  newDescription.value = '';
  showWindow.value = false;
};


const deleteGoal = (index) => {
  goals.value.splice(index, 1);
};
</script>

<style scoped>
.goals__container {
  position: relative;
  padding-bottom: 400px;
}

.goals__title{
  text-align: center;
  font-size: 28px;
  color: black;
  position: relative;
  font-family: Courier,sans-serif ;
}

.goals__track {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  padding: 10px;
}

.goal__card{

  background-color: white;
  border-radius: 10px;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
  border-left: 4px solid #42b983;
  position: relative;
  padding: 15px;
}
.goal__delete{
  width: 30px;
  height: 30px;
  position: absolute;
  right: 20px;
  bottom: 20px;
  cursor: pointer;
}

.goal__delete:hover {
  transform: scale(1.4);
}
.goal__title{
  text-align: center;
  margin-bottom: 5px;
  font-family: Courier,sans-serif;
  font-weight: bold;
}

.goal__description{
  font-family: Courier,sans-serif;
  margin-left: 10px;
  line-height: 1.5;
}

.goal__card:hover{
  background-color: #f0f0f0;
  transform: translateY(-6px);
}

.goals__addCard{
  position: absolute;
  bottom: 0;
  right: 0;
}

.goals__addCard {
  position: absolute;
  right: 20px;
  bottom: 20px;
  width: 50px;
  height: 50px;
  border-radius: 100%;
  background-color: #42b983;
  color: white;
  border: none;
  font-size: 24px;
  cursor: pointer;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
}

.goals__addCard:hover {
  transform: scale(1.1);
}

.addWindow{
  position: fixed;
  display: flex;
  top: 0;
  left: 0;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 100;
}

.addWindow__content {
  background-color: white;
  padding: 25px;
  border-radius: 10px;
  width: 90%;
  max-width: 500px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}
.addWindow__content h3{
  text-align: center;
  margin-bottom: 20px;
  font-family: Courier, sans-serif;
}

.addWindow__content-input,
.addWindow__content-textarea{
  width: 90%;
  padding: 12px;
  margin-bottom: 10px;
  border: 1px solid black;
  border-radius: 6px;
  font-family: Courier, sans-serif;
}

.addWindow__content-textarea{
  min-height: 120px;
}

.addWindow-buttons{
  display: flex;
  justify-content: flex-end;
  gap: 10px;
}

.addWindow__content-addButton{
  padding: 10px 20px;
  background-color: #42b983;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-family: Courier, sans-serif;
}

.addWindow__content-cancelButton {
  padding: 10px 20px;
  background-color: #f0f0f0;
  color: #333;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-family: Courier, sans-serif;
}

.addWindow__content-addButton:hover {
  background-color: #3aa876;
}

.addWindow__content-cancelButton:hover {
  background-color: #e0e0e0;
}
</style>